<!Doctype html>
<html>

<head>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" href="https://www.w3schools.com/w3css/4/w3.css">
    <script src="http://use.edgefonts.net/advent-pro:n2,n5,n7,n4,n1,n6,n3:all.js"></script>
    <script src="//cdnjs.cloudflare.com/ajax/libs/annyang/2.6.0/annyang.min.js"></script>
    <script>
        var i;
        var num;
        var count = 0;
        var res = "";
        var R1;
        var R2;
        var Volts;
        if (annyang) {
            var commands = {
                'hello': function() {}
            }
        };
        annyang.addCallback('result', function(userSaid) {
            for (i = 0; i < 5; i++) { //res = Number.isNaN(userSaid[i]);
                if (count == 0) {
                    R1 = userSaid[i].replace(/^\D+|\D+$/g, "");
                    console.log(R1)
                    count = count + 1;
                    var test = document.getElementById("r1").innerHTML = R1;
                    document.getElementById("r1data").innerHTML = r1data.innerHTML += R1;
                }
                if (count > 0) {
                    count = 0;
                    break;
                }
            }
        });
        // Add our commands to annyang
        annyang.addCommands(commands);
        annyang.debug();
        // Start listening. You can call this here, or attach this call to an event, button, etc.
        annyang.start();
    </script>

    <title>
        VCircuitSim
    </title>
</head>

<body>
    <div class="w3-container w3-blue w3-center">
        <h1>
            VCircuitSim
        </h1>
    </div>
    <div style="padding-left: 100px;padding-top: 50px;">
        <p>
            Enter R1 =
        </p>

    </div>
    <div id=r1>
        <p>

        </p>
    </div>

    <div id="text" style="padding-top: 100px; padding-bottom: 50px;padding-left: 40%; padding-right: 20%">

        <pre>Netlist File
<h7 id=r1data>R1 1 2 </h7><h7>k</h7>		
C1 2 0 65.5p
V1 1 0 pulse(0 1 6n 10p 10p 1000n 5000n)
.op
.tran 50u
.end

</pre>

    </div>
    <div style="text-align: center">

        <button onclick="download()" style="text-align: center">Generate Netlist</button>
        <button id="myButton" class="float-left submit-button" >Click to begin</button>

<script type="text/javascript">
    document.getElementById("myButton").onclick = function () {
        location.href = "http%3a%2f%2fspinningnumbers.org%2fcircuit-sandbox%2findex.html%3fvalue%3d%5b%5b%22s%22%2c%5b264%2c64%2c0%5d%2c%7b%22color%22%3a%22cyan%22%2c%22offset%22%3a%220%22%2c%22_json_%22%3a0%7d%2c%5b%222%22%5d%5d%2c%5b%22w%22%2c%5b264%2c128%2c208%2c128%5d%5d%2c%5b%22w%22%2c%5b152%2c128%2c208%2c128%5d%5d%2c%5b%22g%22%2c%5b208%2c128%2c0%5d%2c%7b%22_json_%22%3a3%7d%2c%5b%220%22%5d%5d%2c%5b%22w%22%2c%5b264%2c64%2c264%2c80%5d%5d%2c%5b%22w%22%2c%5b232%2c64%2c264%2c64%5d%5d%2c%5b%22w%22%2c%5b152%2c64%2c184%2c64%5d%5d%2c%5b%22w%22%2c%5b152%2c80%2c152%2c64%5d%5d%2c%5b%22c%22%2c%5b264%2c80%2c0%5d%2c%7b%22name%22%3a%22C1%22%2c%22c%22%3a%2265.5p%22%2c%22_json_%22%3a8%7d%2c%5b%222%22%2c%220%22%5d%5d%2c%5b%22r%22%2c%5b232%2c64%2c1%5d%2c%7b%22name%22%3a%22R1%22%2c%22r%22%3a%22r1data%22%2c%22_json_%22%3a9%7d%2c%5b%222%22%2c%221%22%5d%5d%2c%5b%22v%22%2c%5b152%2c80%2c0%5d%2c%7b%22name%22%3a%22vin%22%2c%22value%22%3a%22pulse(0%2c1%2c6n%2c10p%2c10p%2c1000n%2c5000n)%22%2c%22_json_%22%3a10%7d%2c%5b%221%22%2c%220%22%5d%5d%2c%5b%22view%22%2c110.6424%2c32.20688%2c3.814697265625%2c%2250%22%2c%2210%22%2c%221G%22%2c%22vin%22%2c%22100%22%2c%2250u%22%2c%221000%22%5d%5d";
    }; 
</script>

    </div>

    <script src="FileSaver.js"></script>
    <script>
        function download() {
            var data = document.getElementById("text").innerHTML;
            var textToSave = $(data).text();
            var blob = new Blob([textToSave], {
                type: "text/plain;charset=utf-8"
            });
            saveAs(blob, "Netlist.net");
        }
    </script>

    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>

</body>

</html>
